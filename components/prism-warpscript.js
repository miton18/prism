var warpscript = {}

warpscript.comment = [
    /\/\*[\s\S]*?\*\//,
    /\/\/(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/
]

warpscript.string = [{
    pattern: /(<')[^'>]('>)/,
    greedy: true
}, {
    pattern: /"(?:[^\\"]|\\.)*"/,
	greedy: true
}, {
    pattern: /'(?:[^\\']|\\.)*'/,
	greedy: true
}, {
    pattern: /`(?:[^\\`]|\\.)*`/,
	greedy: true
}]

warpscript.boolean = /\b(?:true|false|t|f)\b/i

warpscript.keyword = /\b(?:APPLY|PAPPLY|BINARY|->BIN|->DOUBLEBITS|->FLOATBITS|->LONGBYTES|BIN->|BINTOHEX|BITCOUNT|BITGET|BITSTOBYTES|BYTESTOBITS|CLONEREVERSE|DOUBLEBITS->|FLOATBITS->|FROMBIN|FROMBITS|GET|HEXTOBIN|REVERSE|SET|SUBSTRING|TOBIN|TOLONG|BITSET|BUCKETIZE|ATBUCKET|BUCKETCOUNT|BUCKETSPAN|CROP|FILLNEXT|FILLPREVIOUS|FILLVALUE|INTERPOLATE|LASTBUCKET|MACROBUCKETIZER|MAXBUCKETS|STL|BUCKETIZER|bucketizer.and|bucketizer.count|bucketizer.count.exclude-nulls|bucketizer.count.include-nulls|bucketizer.count.nonnull|bucketizer.first|bucketizer.join|bucketizer.join.forbid-nulls|bucketizer.last|bucketizer.mad|bucketizer.max|bucketizer.max.forbid-nulls|bucketizer.mean|bucketizer.mean.circular|bucketizer.mean.circular.exclude-nulls|bucketizer.mean.exclude-nulls|bucketizer.median|bucketizer.min|bucketizer.min.forbid-nulls|bucketizer.or|bucketizer.percentile|bucketizer.rms|bucketizer.sum|bucketizer.sum.forbid-nulls|CONSTANTS|F|T|CONTROL|BREAK|CHECKMACRO|CONTINUE|CUDF|DEFINED|DEFINEDMACRO|EVAL|FAIL|FOR|FOREACH|FORSTEP|MSGFAIL|NRETURN|TRY|UDF|UNTIL|WHILE|CONVERSION|->B64|->B64URL|->BYTES|->ENCODER|->ENCODERS|->GTS|->HEX|->JSON|->LIST|->MAP|->MAT|->OPB64|->V|->VEC|->Z|ASENCODERS|B64->|B64TOHEX|B64URL->|BYTES->|DEFLATE|ENCODER->|FROMHEX|GZIP|HEX->|HEXTOB64|INFLATE|JSON->|LIST->|MAP->|MAT->|MVELEVATIONS|MVHHCODES|MVINDEXSPLIT|MVLOCATIONS|MVTICKS|MVTICKSPLIT|MVVALUES|OPB64->|OPB64TOHEX|TOBOOLEAN|TODEGREES|TODOUBLE|TOHEX|TORADIANS|TOSTRING|TOTIMESTAMP|UNGZIP|V->|VEC->|Z->|COUNTERS|COUNTER|COUNTERDELTA|COUNTERSET|COUNTERVALUE|RANGE|CRYPTO|AESUNWRAP|AESWRAP|EVALSECURE|MD5|RSADECRYPT|RSAENCRYPT|RSAGEN|RSAPRIVATE|RSAPUBLIC|RSASIGN|RSAVERIFY|SECURE|SECUREKEY|SHA1|SHA1HMAC|SHA256|SHA256HMAC|UNSECURE|DATE|->TSELEMENTS|ADDDAYS|ADDMONTHS|ADDYEARS|AGO|HUMANDURATION|ISO8601|MSTU|NOTAFTER|NOTBEFORE|NOW|STU|TSELEMENTS|TSELEMENTS->|d|h|m|ms|ns|ps|s|us|w|DEBUG|ASSERT|ASSERTMSG|CHRONOEND|CHRONOSTART|CHRONOSTATS|EXPORT|GETSECTION|LINEOFF|LINEON|LOGEVENT->|SECTION|STOP|TDESCRIBE|TIMED|TYPEOF|DISTANCE|DTW|OPTDTW|RAWDTW|ZDTW|ENCODER|CHUNKENCODER|RENAME|SETATTRIBUTES|WRAP|WRAPFAST|WRAPMV|WRAPRAW|WRAPRAWOPT|EXTENSIONS|CEVAL|FUNCTIONS|HLOCATE|LOGMSG|MAXURLFETCHCOUNT|MAXURLFETCHSIZE|MUTEX|NOLOG|REXEC|REXECZ|SENSISION.DUMP|SENSISION.DUMPEVENTS|SENSISION.EVENT|SENSISION.GET|SENSISION.SET|SENSISION.UPDATE|SHMLOAD|SHMSTORE|STDERR|STDOUT|SYNC|TOKENDUMP|TOKENGEN|TOKENSECRET|URLFETCH|FILLER|FILL|MACROFILLER|filler.interpolate|filler.next|filler.previous|filler.trend|FILTER|MACROFILTER|PFILTER|filter.byattr|filter.byclass|filter.bylabels|filter.bylabelsattr|filter.bymetadata|filter.last.eq|filter.last.ge|filter.last.gt|filter.last.le|filter.last.lt|filter.last.ne|filter.latencies|FLOW|IFT|IFTE|RETHROW|RETURN|SWITCH|FRAMEWORK|MAP|PREDUCE|REDUCE|max.tick.sliding.window|max.time.sliding.window|GEO|->GEOHASH|->GTSHHCODE|->GTSHHCODELONG|->HHCODE|->HHCODELONG|BBOX|ELEVATIONS|GEO.COVER|GEO.COVER.RL|GEO.DIFFERENCE|GEO.INTERSECTION|GEO.INTERSECTS|GEO.JSON|GEO.JSON.UNIFORM|GEO.OPTIMIZE|GEO.REGEXP|GEO.UNION|GEO.WITHIN|GEO.WKT|GEO.WKT.UNIFORM|GEOHASH->|GEOPACK|GEOUNPACK|GTSHHCODE->|HAVERSINE|HHCODE->|LOCATIONS|LOCSTRINGS|SIZE|mapper.geo.approximate|mapper.geo.clear|mapper.geo.outside|mapper.geo.within|mapper.hdist|mapper.truecourse|GTS|->MVSTRING|ADDVALUE|ATINDEX|ATTICK|ATTRIBUTES|CHUNK|CLIP|CLONE|CLONEEMPTY|COMMONTICKS|COMPACT|COPYGEO|CORRELATE|CPROB|DEDUP|DELETE|DISCORDS|DOUBLEEXPONENTIALSMOOTHING|DWTSPLIT|EMPTY|ESDTEST|FDWT|FETCH|FETCHBOOLEAN|FETCHDOUBLE|FETCHLONG|FETCHSTRING|FFT|FFTAP|FFTWINDOW|FILLTICKS|FIND|FINDSETS|FINDSTATS|FIRSTTICK|FUSE|GOLDWRAP|GRUBBSTEST|HYBRIDTEST|HYBRIDTEST2|IDWT|IFFT|INTEGRATE|ISONORMALIZE|KURTOSIS|LABELS|LASTACTIVITY|LASTSORT|LASTTICK|LOCATIONOFFSET|LOWESS|LR|LTTB|MAKEGTS|MAXGTS|MERGE|META|METASET|METASORT|MODE|MONOTONIC|MUSIGMA|NAME|NEWENCODER|NEWGTS|NONEMPTY|NORMALIZE|NSUMSUMSQ|ONLYBUCKETS|OPTIMIZE|PARSE|PARSESELECTOR|PARSEVALUE|PARTITION|PATTERNDETECTION|PATTERNS|PIVOT|PIVOTSTRICT|PROB|QUANTIZE|RANGECOMPACT|RELABEL|REMOVETICK|RESETS|RLOWESS|RSORT|RVALUESORT|SETVALUE|SHRINK|SINGLEEXPONENTIALSMOOTHING|SKEWNESS|SMARTPARSE|SORT|SORTBY|STANDARDIZE|STLESDTEST|STRICTPARTITION|THRESHOLDTEST|TICKINDEX|TICKLIST|TICKS|TIMECLIP|TIMEMODULO|TIMESCALE|TIMESHIFT|TIMESPLIT|TLTTB|TOBITS|TOSELECTOR|UNBUCKETIZE|UNWRAP|UNWRAPEMPTY|UNWRAPENCODER|UNWRAPSIZE|UPDATE|VALUEDEDUP|VALUEHISTOGRAM|VALUES|VALUESORT|VALUESPLIT|WRAPOPT|ZDISCORDS|ZPATTERNDETECTION|ZPATTERNS|ZSCORE|ZSCORETEST|mapper.finite|mapper.median|mapper.mod|mapper.npdf|mapper.percentile|HELP|DOC|DOCMODE|INFO|INFOMODE|MAN|RTFM|LISTS|APPEND|CHECKSHAPE|CONTAINS|FILTERBY|FLATTEN|GROUPBY|HULLSHAPE|IMMUTABLE|LFLATMAP|LMAP|LSORT|PACK|PERMUTE|REMOVE|RESHAPE|SHAPE|SHUFFLE|SUBLIST|UNIQUE|UNLIST|UNPACK|ZIP|LOGIC|AND|ISNULL|NONNULL|NOT|OR|mapper.and|mapper.or|reducer.and|reducer.and.exclude-nulls|MAPPER|MACROMAPPER|STRICTMAPPER|mapper.abs|mapper.add|mapper.ceil|mapper.count|mapper.count.exclude-nulls|mapper.count.include-nulls|mapper.count.nonnull|mapper.day|mapper.delta|mapper.dotproduct|mapper.dotproduct.positive|mapper.dotproduct.sigmoid|mapper.dotproduct.tanh|mapper.eq|mapper.eq.elev|mapper.eq.hhcode|mapper.eq.lat|mapper.eq.lon|mapper.eq.tick|mapper.exp|mapper.first|mapper.floor|mapper.ge|mapper.ge.elev|mapper.ge.hhcode|mapper.ge.lat|mapper.ge.lon|mapper.ge.tick|mapper.gt|mapper.gt.elev|mapper.gt.hhcode|mapper.gt.lat|mapper.gt.lon|mapper.gt.tick|mapper.highest|mapper.hour|mapper.hspeed|mapper.join|mapper.join.forbid-nulls|mapper.kernel.cosine|mapper.kernel.epanechnikov|mapper.kernel.gaussian|mapper.kernel.logistic|mapper.kernel.quartic|mapper.kernel.silverman|mapper.kernel.triangular|mapper.kernel.tricube|mapper.kernel.triweight|mapper.kernel.uniform|mapper.last|mapper.le|mapper.le.elev|mapper.le.hhcode|mapper.le.lat|mapper.le.lon|mapper.le.tick|mapper.log|mapper.lowest|mapper.lt|mapper.lt.elev|mapper.lt.hhcode|mapper.lt.lat|mapper.lt.lon|mapper.lt.tick|mapper.mad|mapper.max|mapper.max.forbid-nulls|mapper.max.x|mapper.mean|mapper.mean.circular|mapper.mean.circular.exclude-nulls|mapper.mean.exclude-nulls|mapper.min|mapper.min.forbid-nulls|mapper.min.x|mapper.minute|mapper.month|mapper.mul|mapper.ne|mapper.ne.elev|mapper.ne.hhcode|mapper.ne.lat|mapper.ne.lon|mapper.ne.tick|mapper.parsedouble|mapper.pow|mapper.product|mapper.rate|mapper.replace|mapper.rms|mapper.round|mapper.sd|mapper.sd.forbid-nulls|mapper.second|mapper.sigmoid|mapper.sqrt|mapper.sum|mapper.sum.forbid-nulls|mapper.tanh|mapper.tick|mapper.toboolean|mapper.todouble|mapper.tolong|mapper.tostring|mapper.var|mapper.var.forbid-nulls|mapper.vdist|mapper.vspeed|mapper.weekday|mapper.year|MAPS|CONTAINSKEY|CONTAINSVALUE|KEYLIST|MAPID|MSORT|PUT|SUBMAP|UNMAP|VALUELIST|MATH|ABS|ACOS|ADDEXACT|ASIN|ATAN|ATAN2|CBRT|CEIL|COPYSIGN|COS|COSH|DECREMENTEXACT|DET|EXP|EXPM1|FLOOR|FLOORDIV|FLOORMOD|GETEXPONENT|HYPOT|INCREMENTEXACT|INV|ISNaN|LBOUNDS|LOG|LOG10|LOG1P|MAX|MIN|MULTIPLYEXACT|NBOUNDS|NEGATEEXACT|NEXTAFTER|NEXTDOWN|NEXTUP|NPDF|PRNG|PROBABILITY|RAND|RANDOM|RANDPDF|REVBITS|RINT|ROUND|SCALB|SIGNUM|SIN|SINH|SQRT|SRAND|SUBTRACTEXACT|TAN|TANH|TOINTEXACT|TR|TRANSPOSE|ULP|MISC|UUID|OP|op.add|op.add.ignore-nulls|op.and|op.and.ignore-nulls|op.div|op.eq|op.ge|op.gt|op.le|op.lt|op.mask|op.mul|op.mul.ignore-nulls|op.ne|op.negmask|op.or|op.or.ignore-nulls|op.sub|OPERATORS|IEEEREMAINDER|OUTLIER|PIG|PIGSCHEMA|PLATFORM|->PICKLE|CALL|DELETEOFF|DELETEON|EVERY|GETHOOK|JSONLOOSE|JSONSTRICT|LIMIT|MACROCONFIG|MACROCONFIGDEFAULT|MACROTTL|MAXDEPTH|MAXGEOCELLS|MAXLOOP|MAXOPS|MAXPIXELS|MAXRECURSION|MAXSYMBOLS|METAOFF|METAON|MINREV|NOOP|OPS|PICKLE->|REV|RUN|SETMACROCONFIG|TIMEBOX|TOKENINFO|UPDATEOFF|UPDATEON|PROCESSING|PGraphics|Palpha|Parc|Pbackground|PbeginContour|PbeginShape|Pbezier|PbezierDetail|PbezierPoint|PbezierTangent|PbezierVertex|Pblend|PblendMode|Pblue|Pbox|Pbrightness|Pclear|Pclip|Pcolor|PcolorMode|Pconstrain|Pcopy|PcreateFont|Pcurve|PcurveDetail|PcurvePoint|PcurveTangent|PcurveTightness|PcurveVertex|Pdecode|Pdist|Pellipse|PellipseMode|Pencode|PendContour|PendShape|Pfill|Pfilter|Pget|Pgreen|Phue|Pimage|PimageMode|Plerp|PlerpColor|Pline|PloadShape|Pmag|Pmap|PnoClip|PnoFill|PnoStroke|PnoTint|Pnorm|Ppixels|Ppoint|PpopMatrix|PpopStyle|PpushMatrix|PpushStyle|Pquad|PquadraticVertex|Prect|PrectMode|Pred|PresetMatrix|Protate|Psaturation|Pscale|Pset|Pshape|PshapeMode|PshearX|PshearY|Psphere|PsphereDetail|Pstroke|PstrokeCap|PstrokeJoin|PstrokeWeight|Ptext|PtextAlign|PtextAscent|PtextDescent|PtextFont|PtextLeading|PtextMode|PtextSize|PtextWidth|Ptint|PtoImage|Ptranslate|Ptriangle|PupdatePixels|Pvertex|QUATERNIONS|->Q|Q->|QCONJUGATE|QDIVIDE|QMULTIPLY|QROTATE|QROTATION|ROTATIONQ|REDUCER|MACROREDUCER|STRICTREDUCER|reducer.argmax|reducer.argmin|reducer.count|reducer.count.exclude-nulls|reducer.count.include-nulls|reducer.count.nonnull|reducer.join|reducer.join.forbid-nulls|reducer.join.nonnull|reducer.join.urlencoded|reducer.mad|reducer.max|reducer.max.forbid-nulls|reducer.max.nonnull|reducer.mean|reducer.mean.circular|reducer.mean.circular.exclude-nulls|reducer.mean.exclude-nulls|reducer.median|reducer.min|reducer.min.forbid-nulls|reducer.min.nonnull|reducer.or|reducer.or.exclude-nulls|reducer.percentile|reducer.product|reducer.rms|reducer.rms.exclude-nulls|reducer.sd|reducer.sd.forbid-nulls|reducer.shannonentropy.0|reducer.shannonentropy.1|reducer.sum|reducer.sum.forbid-nulls|reducer.sum.nonnull|reducer.var|reducer.var.forbid-nulls|SETS|->SET|DIFFERENCE|INTERSECTION|SET->|UNION|STACK|ASREGS|AUTHENTICATE|BOOTSTRAP|CLEAR|CLEARDEFS|CLEARREGS|CLEARSYMBOLS|CLEARTOMARK|COUNTTOMARK|CPOPR|CSTORE|DEBUGOFF|DEBUGON|DEF|DEPTH|DROP|DROPN|DUP|DUPN|ECHOOFF|ECHOON|ELAPSED|ERROR|EXTLOADED|FORGET|HEADER|IDENT|IMPORT|ISAUTHENTICATED|JSONSTACK|LOAD|MARK|NDEBUGON|NOTIMINGS|NPEEK|PEEK|PEEKN|PICK|POPR|PSTACK|PUSHR|REDEFS|REPORT|RESET|RESTORE|ROLL|ROLLD|ROT|RUNNERNONCE|SAVE|SNAPSHOT|SNAPSHOTALL|SNAPSHOTALLTOMARK|SNAPSHOTCOPY|SNAPSHOTCOPYALL|SNAPSHOTCOPYALLTOMARK|SNAPSHOTCOPYN|SNAPSHOTCOPYTOMARK|SNAPSHOTN|SNAPSHOTTOMARK|STACKATTRIBUTE|STACKTOLIST|STORE|SWAP|TIMEOFF|TIMEON|TIMINGS|VARS|WF.ADDREPO|WF.GETREPOS|WF.SETREPOS|WFOFF|WFON|WSSTACK|STATISTICS|STRINGS|HASH|JOIN|MATCH|MATCHER|REOPTALT|REPLACE|REPLACEALL|SPLIT|STRINGFORMAT|TEMPLATE|TOLOWER|TOUPPER|TRIM|URLDECODE|URLENCODE|TENSORS|TIME|DURATION|ISODURATION|TRIGONOMETRY|WEB|WEBCAL)\b/

warpscript.function = /@+(?:\w+\b|(?={))/i

warpscript.variable = /\$+(?:\w+\b|(?={))/i

warpscript.contstant = /E|MAXLONG|MINLONG|NULL|NaN|PI|e|pi/

warpscript.operator = /\+|-|\*|\/|\!(=)?|%|&(&)?|<(<|=)?|==|>(>|=)?|\^|\||\|\||\?|~(=)?/

warpscript.punctuation = /[(){}\[\](<S)(S>)(<%)(%>)]/

warpscript.number = /[+-]?\d+(\.\d+)?([eE][+-]?\d+)?\b/

Prism.languages.warpscript = warpscript